!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t){e.exports=React},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";(function(e){function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.forceCheck=t.lazyload=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(0),c=o(f),s=n(1),d=o(s),p=n(8),h=n(9),m=o(h),y=n(7),v=o(y),b=n(10),w=o(b),g=n(3),_=o(g),O=n(6),E=o(O),T={top:0,right:0,bottom:0,left:0,width:0,height:0},j="data-lazyload-listened",P=[],M=[],x=function(e,t){var n=d.default.findDOMNode(e),o=void 0,r=void 0;try{var i=t.getBoundingClientRect();o=i.top,r=i.height}catch(e){o=T.top,r=T.height}var u=window.innerHeight||document.documentElement.clientHeight,l=Math.max(o,0),a=Math.min(u,o+r)-l,f=void 0,c=void 0;try{var s=n.getBoundingClientRect();f=s.top,c=s.height}catch(e){f=T.top,c=T.height}var p=f-l,h=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return p-h[0]<=a&&p+c+h[1]>=0},D=function(e){var t=d.default.findDOMNode(e),n=void 0,o=void 0;try{var r=t.getBoundingClientRect();n=r.top,o=r.height}catch(e){n=T.top,o=T.height}var i=window.innerHeight||document.documentElement.clientHeight,u=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return n-u[0]<=i&&n+o+u[1]>=0},k=function(e){var t=d.default.findDOMNode(e);if(t){var n=(0,m.default)(t);(e.props.overflow&&n!==t.ownerDocument&&n!==document&&n!==document.documentElement?x(e,n):D(e))?e.visible||(e.props.once&&M.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},N=function(){M.forEach(function(e){var t=P.indexOf(e);-1!==t&&P.splice(t,1)}),M=[]},S=function(){for(var e=0;e<P.length;++e){var t=P[e];k(t)}N()},L=void 0,A=null,C=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.visible=!1,n}return u(t,e),a(t,[{key:"componentDidMount",value:function(){var e=!1;if(void 0!==this.props.debounce&&"throttle"===L?(console.warn("[react-lazyload] Previous delay function is `throttle`, now switching to `debounce`, try setting them unanimously"),e=!0):"debounce"===L&&void 0===this.props.debounce&&(console.warn("[react-lazyload] Previous delay function is `debounce`, now switching to `throttle`, try setting them unanimously"),e=!0),e&&((0,p.off)(window,"scroll",A),(0,p.off)(window,"resize",A),A=null),A||(void 0!==this.props.debounce?(A=(0,v.default)(S,"number"==typeof this.props.debounce?this.props.debounce:300),L="debounce"):(A=(0,w.default)(S,"number"==typeof this.props.throttle?this.props.throttle:300),L="throttle")),this.props.overflow){var t=(0,m.default)(d.default.findDOMNode(this));if(t&&"function"==typeof t.getAttribute){var n=+t.getAttribute(j)+1;1===n&&t.addEventListener("scroll",A),t.setAttribute(j,n)}}else if(0===P.length||e){var o=this.props,r=o.scroll,i=o.resize;r&&(0,p.on)(window,"scroll",A),i&&(0,p.on)(window,"resize",A)}P.push(this),k(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,m.default)(d.default.findDOMNode(this));if(e&&"function"==typeof e.getAttribute){var t=+e.getAttribute(j)-1;0===t?(e.removeEventListener("scroll",A),e.removeAttribute(j)):e.setAttribute(j,t)}}var n=P.indexOf(this);-1!==n&&P.splice(n,1),0===P.length&&((0,p.off)(window,"resize",A),(0,p.off)(window,"scroll",A))}},{key:"render",value:function(){return this.visible?this.props.children:this.props.placeholder?this.props.placeholder:c.default.createElement("div",{style:{height:this.props.height},className:"lazyload-placeholder"})}}]),t}(f.Component);C.propTypes={once:_.default.bool,height:_.default.oneOfType([_.default.number,_.default.string]),offset:_.default.oneOfType([_.default.number,_.default.arrayOf(_.default.number)]),overflow:_.default.bool,resize:_.default.bool,scroll:_.default.bool,children:_.default.node,throttle:_.default.oneOfType([_.default.number,_.default.bool]),debounce:_.default.oneOfType([_.default.number,_.default.bool]),placeholder:_.default.node,unmountIfInvisible:_.default.bool},C.defaultProps={once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1},t.lazyload=E.default,t.default=C,t.forceCheck=S}).call(t,n(5))},function(e,t){e.exports=PropTypes},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(3),f=o(a),c=n(0),s=o(c),d=n(2),p=o(d),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={data:null,loaded:!0},n.fetchData=n.fetchData.bind(n),n}return u(t,e),l(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this,t=window.COLBY_REST_URL+"colby/site-preview/?site-id="+this.props.siteId;fetch(t).then(function(e){return e.json()}).then(function(t){e.setState({data:t})})}},{key:"render",value:function(){var e=this;if(null===this.state.data)return null;var t=this.state.data,n=t.siteUrl,o=t.featuredImage,r=t.siteMenu,i=t.siteName,u=t.description;return s.default.createElement(p.default,{height:"auto",once:!0,offset:200},s.default.createElement("div",{className:"row no-gutters mb-3 flex-row"},s.default.createElement("a",{ref:function(t){e.link=t},href:n,style:{backgroundImage:"url('"+o[0]+"')"},className:"bigPanel sitePreview h-xs row no-gutters px-5 py-1col-12 col-md-9"},s.default.createElement("div",{className:"ml-auto mt-auto col-md-9 col-lg-7"},s.default.createElement("h1",{className:"display-1"},i),s.default.createElement("h2",{className:"display-2"},u))),s.default.createElement("nav",{className:"list-group list-group-primary col-md-3 flex-wrap flex-row flex-md-column justify-content-center"},r.map(function(e){return"0"!==e.menu_item_parent?null:"#"===e.url?null:e.url===n+"/"?null:s.default.createElement("a",{className:"list-group-item-action list-group-item",href:e.url,key:e.ID,dangerouslySetInnerHTML:{__html:e.title}})}))))}}]),t}(s.default.Component);h.propTypes={siteId:f.default.string.isRequired},t.default=h},function(e,t,n){"use strict";function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(s===setTimeout)return setTimeout(e,0);if((s===o||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}function u(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function l(){y&&h&&(y=!1,h.length?m=h.concat(m):v=-1,m.length&&a())}function a(){if(!y){var e=i(l);y=!0;for(var t=m.length;t;){for(h=m,m=[];++v<t;)h&&h[v].run();v=-1,t=m.length}h=null,y=!1,u(e)}}function f(e,t){this.fun=e,this.array=t}function c(){}var s,d,p=e.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:o}catch(e){s=o}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var h,m=[],y=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new f(e,t)),1!==m.length||y||i(a)},f.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(0),c=o(f),s=n(2),d=o(s),p=function(e){return e.displayName||e.name||"Component"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return function(n){function o(){r(this,o);var e=i(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return e.displayName="LazyLoad"+p(t),e}return u(o,n),a(o,[{key:"render",value:function(){return c.default.createElement(d.default,e,c.default.createElement(t,this.props))}}]),o}(f.Component)}}},function(e,t,n){"use strict";function o(e,t,n){var o=void 0,r=void 0,i=void 0,u=void 0,l=void 0,a=function a(){var f=+new Date-u;f<t&&f>=0?o=setTimeout(a,t-f):(o=null,n||(l=e.apply(i,r),o||(i=null,r=null)))};return function(){i=this,r=arguments,u=+new Date;var f=n&&!o;return o||(o=setTimeout(a,t)),f&&(l=e.apply(i,r),i=null,r=null),l}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";function o(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(t){n.call(e,t||window.event)})}function r(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.on=o,t.off=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return document.documentElement;for(var t="absolute"===e.style.position,n=/(scroll|auto)/,o=e;o;){if(!o.parentNode)return e.ownerDocument||document.documentElement;var r=window.getComputedStyle(o),i=r.position,u=r.overflow,l=r["overflow-x"],a=r["overflow-y"];if("static"!==i||!t){if(n.test(u)&&n.test(l)&&n.test(a))return o;o=o.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},function(e,t,n){"use strict";function o(e,t,n){t||(t=250);var o,r;return function(){var i=n||this,u=+new Date,l=arguments;o&&u<o+t?(clearTimeout(r),r=setTimeout(function(){o=u,e.apply(i,l)},t)):(o=u,e.apply(i,l))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(0),i=o(r),u=n(1),l=o(u),a=n(4),f=o(a),c=function(){Array.prototype.forEach.call(document.querySelectorAll("[data-site-preview]"),function(e){l.default.render(i.default.createElement(f.default,e.dataset),e)})};window.addEventListener("load",c)}]);