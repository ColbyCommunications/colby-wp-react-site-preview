{"version":3,"sources":["webpack:///webpack/bootstrap d27fe77a60b1f0449a6a","webpack:///external \"React\"","webpack:///./src/SitePreview/index.js","webpack:///external \"ReactDOM\"","webpack:///./src/index.js","webpack:///external \"PropTypes\""],"names":["SitePreview","props","state","data","loaded","fetchData","bind","renderSection","url","window","COLBY_REST_URL","siteId","fetch","then","response","json","setState","section","siteUrl","featuredImage","siteMenu","siteName","description","Math","random","toString","substring","link","backgroundImage","map","menuItem","menu_item_parent","ID","__html","title","innerHTML","Component","propTypes","string","isRequired","defaultProps","init","Array","prototype","forEach","call","document","querySelectorAll","container","getAttribute","render","addEventListener"],"mappings":"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","file":"colby-wp-react-site-preview.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d27fe77a60b1f0449a6a","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 0","/* eslint react/no-danger: 0 */\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nclass SitePreview extends React.Component {\n  static propTypes = {\n    siteId: PropTypes.string.isRequired,\n    innerHTML: PropTypes.string,\n  };\n\n  static defaultProps = {\n    innerHTML: '',\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: null,\n      loaded: true,\n    };\n\n    this.fetchData = this.fetchData.bind(this);\n    this.renderSection = this.renderSection.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData() {\n    const url = `${window.COLBY_REST_URL}colby/site-preview/?site-id=${this\n      .props.siteId}`;\n    fetch(url).then((response) => response.json()).then((data) => {\n      this.setState({ data });\n    });\n  }\n\n  renderSection(section) {\n    const { siteUrl, featuredImage, siteMenu, siteName, description } = section;\n\n    return (\n      <div\n        className=\"row no-gutters mb-3 flex-row\"\n        key={Math.random().toString(36).substring(7)}\n      >\n        <a\n          ref={(link) => {\n            this.link = link;\n          }}\n          href={siteUrl}\n          style={{ backgroundImage: `url('${featuredImage[0]}')` }}\n          className={\n            'bigPanel sitePreview row no-gutters px-3 py-4 col-12 col-md-9'\n          }\n        >\n          <div className=\"ml-auto mt-auto col-md-9 col-lg-7\">\n            <h1 className=\"display-1\">\n              {siteName}\n            </h1>\n            <h2 className=\"display-2\">\n              {description}\n            </h2>\n          </div>\n        </a>\n\n        <nav\n          className={\n            'list-group list-group-primary col-md-3 flex-wrap' +\n            ' flex-row flex-md-column justify-content-center'\n          }\n        >\n          {siteMenu.map((menuItem) => {\n            if (menuItem.menu_item_parent !== '0') {\n              return null;\n            }\n\n            if (menuItem.url === '#') {\n              return null;\n            }\n\n            if (menuItem.url === `${siteUrl}/`) {\n              return null;\n            }\n\n            return (\n              <a\n                className=\"list-group-item-action list-group-item\"\n                href={menuItem.url}\n                key={menuItem.ID}\n                dangerouslySetInnerHTML={{ __html: menuItem.title }}\n              />\n            );\n          })}\n        </nav>\n      </div>\n    );\n  }\n\n  render() {\n    if (this.state.data === null) {\n      return <div dangerouslySetInnerHTML={{ __html: this.props.innerHTML }} />;\n    }\n\n    return (\n      <div>\n        {this.state.data.map(this.renderSection)}\n      </div>\n    );\n  }\n}\n\nexport default SitePreview;\n\n\n\n// WEBPACK FOOTER //\n// ./src/SitePreview/index.js","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 2\n// module chunks = 0","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport SitePreview from './SitePreview';\n\nconst init = () => {\n  Array.prototype.forEach.call(\n    document.querySelectorAll('[data-site-preview]'),\n    (container) => {\n      const siteId = container.getAttribute('data-site-id');\n      if (siteId) {\n        ReactDOM.render(\n          <SitePreview siteId={siteId} innerHTML={container.innerHTML} />,\n          container\n        );\n      }\n    }\n  );\n};\n\nwindow.addEventListener('load', init);\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = PropTypes;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"PropTypes\"\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}