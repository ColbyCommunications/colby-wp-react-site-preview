{"version":3,"sources":["webpack:///webpack/bootstrap 32d238b9fb1bc1f1a42b","webpack:///external \"React\"","webpack:///external \"PropTypes\"","webpack:///./src/SitePreview/index.js","webpack:///external \"ReactDOM\"","webpack:///./src/index.js","webpack:///./src/SitePreview/SitePreview.module.scss"],"names":["SitePreview","props","state","data","loaded","fetchData","bind","url","window","COLBY_REST_URL","siteId","fetch","then","response","json","setState","siteUrl","featuredImage","siteMenu","siteName","join","link","preview","backgroundImage","previewText","previewTextInner","previewH1","map","menuItem","menu_item_parent","ID","__html","title","Component","propTypes","string","isRequired","init","Array","prototype","forEach","call","document","querySelectorAll","container","render","dataset","addEventListener"],"mappings":"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","file":"colby-wp-react-site-preview.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 32d238b9fb1bc1f1a42b","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 0","module.exports = PropTypes;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"PropTypes\"\n// module id = 1\n// module chunks = 0","/* eslint react/no-danger: 0 */\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport styles from './SitePreview.module.scss';\n\nclass SitePreview extends React.Component {\n  static propTypes = {\n    siteId: PropTypes.string.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: null,\n      loaded: true,\n    };\n\n    this.fetchData = this.fetchData.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData() {\n    const url = `${window.COLBY_REST_URL}colby/site-preview/?site-id=${this\n      .props.siteId}`;\n    fetch(url).then((response) => response.json()).then((data) => {\n      this.setState({ data });\n    });\n  }\n\n  render() {\n    if (this.state.data === null) {\n      return null;\n    }\n\n    const { siteUrl, featuredImage, siteMenu, siteName } = this.state.data;\n\n    return (\n      <div\n        className={[\n          styles.SitePreview,\n          this.state.loaded ? styles.loaded : '',\n        ].join(' ')}\n      >\n        <a\n          ref={(link) => {\n            this.link = link;\n          }}\n          href={siteUrl}\n          className={styles.preview}\n          style={{ backgroundImage: `url('${featuredImage[0]}')` }}\n        >\n          <div className={styles.previewText}>\n            <div className={styles.previewTextInner}>\n              <h1 className={`${styles.previewH1} display-1`}>\n                {siteName}\n              </h1>\n            </div>\n          </div>\n        </a>\n        <nav className={styles.siteMenu}>\n          {siteMenu.map((menuItem) => {\n            if (menuItem.menu_item_parent !== '0') {\n              return null;\n            }\n\n            if (menuItem.url === '#') {\n              return null;\n            }\n\n            if (menuItem.url === `${siteUrl}/`) {\n              return null;\n            }\n\n            return (\n              <a\n                href={menuItem.url}\n                key={menuItem.ID}\n                dangerouslySetInnerHTML={{ __html: menuItem.title }}\n              />\n            );\n          })}\n        </nav>\n      </div>\n    );\n  }\n}\n\nexport default SitePreview;\n\n\n\n// WEBPACK FOOTER //\n// ./src/SitePreview/index.js","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 3\n// module chunks = 0","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport SitePreview from './SitePreview';\n\nconst init = () => {\n  Array.prototype.forEach.call(\n    document.querySelectorAll('[data-site-preview]'),\n    (container) => {\n      ReactDOM.render(<SitePreview {...container.dataset} />, container);\n    }\n  );\n};\n\nwindow.addEventListener('load', init);\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"SitePreview\":\"SitePreview--1NbU1\",\"fadein\":\"fadein--1WKH5\",\"preview\":\"preview--OkkFI\",\"previewText\":\"previewText--1ov5k\",\"previewTextInner\":\"previewTextInner--15JHj\",\"previewH1\":\"previewH1--1N4vc\",\"siteMenu\":\"siteMenu--1vobG\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/SitePreview/SitePreview.module.scss\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}